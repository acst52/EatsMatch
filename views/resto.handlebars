<section class="resto-container">
    <h3 class="resto-name">{{resto.resto_name}}</h3>
    <section class="dish-container">
        <button id="dish-btn" value="{{resto.id}}">See Dishes</button>
    </section>
    <script>
        let dishBtn = document.querySelector('#dish-btn');
        console.log(dishBtn);
        console.log(dishBtn.value);

        const testFunction = async (event) => {

    const restoId = dishBtn.value;

    //maybe add a conditional check here to make sure restoId is not null

    const response = await fetch(`/api/dish/${restoId}`, {
        method: 'GET',
    });

    if (response.ok) {
        let token = response.json();

        let dishContainer = document.querySelector('.dish-container');

        token.then(function (result) {
            console.log(result);

            dishBtn.style.display = "none";

            for (let i = 0; i < result.length; i++) {

                let container = document.querySelector('.dish-container');
                let section = document.createElement("section");
                section.classList.add('dishCard');

                let h1 = document.createElement('h1');
                let p = document.createElement('p');
                let img = document.createElement('img');

                h1.textContent = result[i].dish_name;
                p.textContent = result[i].dish_price;
                section.append(h1);
                section.append(p);
                
            if (result[i].dish_img != null) {
                console.log(result[i].dish_img);
                img.src = result[i].dish_img;
                section.append(img);
            }

                container.append(section);
            }

            // Append the dishContainer to the HTML
            document.querySelector('.resto-container').appendChild(dishContainer);

        });

    } else {
        console.log('route is not working ):');
    }
}

        dishBtn.addEventListener('click', testFunction);
    </script>
</section>